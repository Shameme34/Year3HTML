<html>
    <head>
        <title>Room Booking System</title>
        <link rel="stylesheet" href="StaffLogin.css">
        
    </head>
    <body>
        <div class = "hero">
            <header>
                <div class ="content flex_space">
                    <div class ="logo">
                        <img src = "uowlogo.png" alt="uow logo" width ="200" height="70">
                    </div>
                    <div class = "navlinks">
                        <ul id = "memulist">
                            <li><i class ="fa fa-search"></i></li>
                            <li><button class ="primary-btn" onclick ="window.location.href = 'LoginPage.html';">LOG OUT</li>
                        </ul>
                        <span class = "fa fa-bars" onclick="menutoggle()"></span>
                    </div>
                </div>
            </header>
        <section>
            <style>
            #myInput{
                background-position: 10px 12px;
                background-repeat: no-repeat;
                width: 80%;
                font-size: 16px;
                padding: 12px 20px 12px 40px;
                border: 1px solid #ddd;
                margin-bottom: 12px;
                position: relative;
                left: 150px;
            }
            </style>
            <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for date e.g. 15 May 2023, Tuesday.." title="Date">

            <table id="myTable" class ="center" width ="80%">
                <tr class ="header">
                    <th>Room</th>
                    <th>Room Details</th>
                    <th>Created by</th>
                    <th>Status</th>
                    <th>Approved/Unapprove button</th>
                </tr>
                <tr>
                    <td>Room 2</td>
                    <td>Date: 23 May 2023, Tuesday<br><br>
                        Time: 10:30AM - 12:30PM<br><br>
                        Maximum number of people: 10<br><br>
                        Price: $15 <br><br>
                        Promo Code: BOOKNOW<br>
                    </td>
                    <td>Shameem</td>
                    <td><p id = "para1">Pending</p></td>
                    <td><button id = "btn" class ="btn">Approve</button><br><br>

                    </td>
                </tr>
                <tr>
                    <td>Room 1</td>
                    <td>Date: 24 May 2023, Wednesday<br><br>
                        Time: 8:30AM - 10:30AM<br><br>
                        Maximum number of people: 20<br><br>
                        Price: $20 <br><br>
                        Promo Code: BOOKMORNING<br>
                    </td>
                    <td>Shameem</td>
                    <td><p id = "para2">Pending</p></td>
                    <td><button id = "btn1" class ="btn">Approve</button><br><br>

                    </td>
                </tr>
                <tr>
                    <td>Room 3</td>
                    <td>Date: 25 May 2023, Thursday<br><br>
                        Time: 1:30PM - 3:30PM<br><br>
                        Maximum number of people: 35<br><br>
                        Price: $50 <br><br>
                        Promo Code: BOOKTHURSDAY<br>
                    </td>
                    <td>Shameem</td>
                    <td><p id = "para3">Approved</p></td>
                    <td><button id = "btn3" class ="btn">Pending</button>

                    </td>
                </tr>
                <tr>
                    <td>Room 2</td>
                    <td>Date: 26 May 2023, Friday<br><br>
                        Time: 5:30PM - 7:30PM<br><br>
                        Maximum number of people: 10<br><br>
                        Price: $25<br><br>
                        Promo Code: BOOKFRIDAY<br>
                    </td>
                    <td>Shameem</td>
                    <td><p id = "para4">Pending</p></td>
                    <td><button id = "btn4" class ="btn">Approve</button><br><br>

                    </td>
                </tr>

            </table>
            <script>
                var para1 = document.getElementById("para1");
                var para2 = document.getElementById("para2");
                var para3 = document.getElementById("para3");
                var para4 = document.getElementById("para4");
                
                const btn = document.getElementById('btn');
                btn.addEventListener('click', function handleClick(){
                    const initialtext = "Approve";

                    if (btn.textContent.toLowerCase().includes(initialtext.toLowerCase())){
                        btn.textContent = "Pending";
                        para1.innerText = "Approved";
                    }
                    else{
                        btn.textContent = initialtext;
                        para1.innerText = "Pending";
                    }
                });

                btn1.addEventListener('click', function handleClick(){
                    const initialtext = "Approve";

                    if (btn1.textContent.toLowerCase().includes(initialtext.toLowerCase())){
                        btn1.textContent = "Pending";
                        para2.innerText = "Approved";
                    }
                    else{
                        btn1.textContent = initialtext;
                        para2.innerText = "Pending";
                    }
                });

                btn3.addEventListener('click', function handleClick(){
                    const initialtext = "Approve";

                    if (btn3.textContent.toLowerCase().includes(initialtext.toLowerCase())){
                        btn3.textContent = "Pending";
                        para3.innerText = "Approved";
                    }
                    else{
                        btn3.textContent = initialtext;
                        para3.innerText = "Pending";
                    }
                });

                btn4.addEventListener('click', function handleClick(){
                    const initialtext = "Approve";

                    if (btn4.textContent.toLowerCase().includes(initialtext.toLowerCase())){
                        btn4.textContent = "Pending";
                        para4.innerText = "Approved";
                    }
                    else{
                        btn4.textContent = initialtext;
                        para4.innerText = "Pending";
                    }
                });

                function deleteRow(r){
                    let confirmAction = confirm("Are you sure you want to delete this?");
                    if(confirmAction)
                    {
                        alert("Room deleted");
                        var i = r.parentNode.parentNode.rowIndex;
                        document.getElementById("MyTable").deleteRow(i);
                    }
                    else{
                        alert("Room Not Deleted");
                    }
                }
                function myFunction() {
                    var input, filter, table, tr, td, cell, i, j;
                    input = document.getElementById("myInput");
                    filter = input.value.toUpperCase();
                    table = document.getElementById("myTable");
                    tr = table.getElementsByTagName("tr");
                    for (i = 1; i < tr.length; i++) {
                        tr[i].style.display = "none";
                    
                        td = tr[i].getElementsByTagName("td");
                        for (var j = 0; j < td.length; j++) {
                        cell = tr[i].getElementsByTagName("td")[j];
                        if (cell) {
                            if (cell.innerHTML.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                            break;
                            } 
                        }
                        }
                    }
                    }
            </script>
        </section>
    </div>
    
    </body>

</html>